# DynamicList.ets ä¿®å¤æ€»ç»“

## é—®é¢˜æè¿°
åœ¨ `DynamicList.ets` æ–‡ä»¶ä¸­å‡ºç°äº† ArkTS è¯­æ³•é”™è¯¯ï¼š
- é”™è¯¯ä½ç½®ï¼šç¬¬686-689è¡Œ
- é”™è¯¯ç±»å‹ï¼šåœ¨ `@Builder` æ–¹æ³•ä¸­å†™å…¥äº†éUIç»„ä»¶è¯­æ³•

## å…·ä½“é”™è¯¯
1. `let avatarUrl = dynamic.userAvatar;` - å˜é‡å£°æ˜
2. `if (avatarUrl && avatarUrl.startsWith('/'))` - æ¡ä»¶åˆ¤æ–­
3. `avatarUrl = baseUrl + avatarUrl;` - å˜é‡èµ‹å€¼

## ä¿®å¤æ–¹æ¡ˆ

### 1. æ·»åŠ è¾…åŠ©æ–¹æ³•
åˆ›å»ºäº† `getProcessedAvatarUrl()` æ–¹æ³•æ¥å¤„ç†å¤´åƒURLï¼š
```typescript
getProcessedAvatarUrl(avatarUrl: string | undefined): string {
  if (!avatarUrl || avatarUrl === '' || avatarUrl === '/avatars/default.png') {
    return '';
  }
  
  // å¤„ç†å¤´åƒURL - å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‹¼æ¥å®Œæ•´URL
  if (avatarUrl && avatarUrl.startsWith('/')) {
    const baseUrl = Config.getApiBaseUrl().replace('/api', '');
    return baseUrl + avatarUrl;
  }
  
  return avatarUrl;
}
```

### 2. ä¿®å¤ @Builder æ–¹æ³•
å°†åŸæ¥çš„JavaScripté€»è¾‘ä»£ç æ›¿æ¢ä¸ºUIç»„ä»¶è¯­æ³•ï¼š

**ä¿®å¤å‰ï¼š**
```typescript
// å¤„ç†å¤´åƒURL - å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‹¼æ¥å®Œæ•´URL
let avatarUrl = dynamic.userAvatar;
if (avatarUrl && avatarUrl.startsWith('/')) {
  const baseUrl = Config.getApiBaseUrl().replace('/api', '');
  avatarUrl = baseUrl + avatarUrl;
}

Image(avatarUrl)
```

**ä¿®å¤åï¼š**
```typescript
Image(this.getProcessedAvatarUrl(dynamic.userAvatar))
```

### 3. å¢å¼ºé”™è¯¯å¤„ç†
ä¸ºæ‰€æœ‰å›¾ç‰‡æ˜¾ç¤ºæ·»åŠ äº†ç©ºå€¼æ£€æŸ¥å’Œå ä½ç¬¦æ˜¾ç¤ºï¼š
- å¤´åƒä¸ºç©ºæ—¶æ˜¾ç¤º ğŸ‘¤ å ä½ç¬¦
- å›¾ç‰‡ä¸ºç©ºæ—¶æ˜¾ç¤º ğŸ–¼ï¸ å ä½ç¬¦
- å¤´åƒæŸ¥çœ‹å™¨ä¸­æ·»åŠ äº†å ä½ç¬¦æ”¯æŒ

## ä¿®å¤å†…å®¹

### å¤´åƒæ˜¾ç¤ºä¿®å¤
- âœ… ä¿®å¤äº† `DynamicCard` @Builder ä¸­çš„å¤´åƒURLå¤„ç†
- âœ… æ·»åŠ äº†å¤´åƒå ä½ç¬¦æ˜¾ç¤º
- âœ… ä¿®å¤äº†å¤´åƒæŸ¥çœ‹å™¨çš„URLå¤„ç†

### å›¾ç‰‡æ˜¾ç¤ºå¢å¼º
- âœ… ä¸ºåŠ¨æ€å›¾ç‰‡æ·»åŠ äº†ç©ºå€¼æ£€æŸ¥
- âœ… ä¸ºå‘å¸ƒå¼¹çª—ä¸­çš„å›¾ç‰‡æ·»åŠ äº†å ä½ç¬¦
- âœ… ç»Ÿä¸€äº†å›¾ç‰‡æ˜¾ç¤ºçš„é”™è¯¯å¤„ç†

### ä»£ç ä¼˜åŒ–
- âœ… ç§»é™¤äº† @Builder ä¸­çš„JavaScripté€»è¾‘ä»£ç 
- âœ… æ·»åŠ äº†ä¸“é—¨çš„URLå¤„ç†æ–¹æ³•
- âœ… ä¿æŒäº†åŸæœ‰çš„åŠŸèƒ½å®Œæ•´æ€§

## éªŒè¯æ–¹æ³•

1. **ç¼–è¯‘æ£€æŸ¥**
   ```bash
   # åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
   hvigor build
   ```

2. **åŠŸèƒ½æµ‹è¯•**
   - å¯åŠ¨åº”ç”¨
   - è¿›å…¥åŠ¨æ€åˆ—è¡¨é¡µé¢
   - æ£€æŸ¥å¤´åƒæ˜¾ç¤ºæ˜¯å¦æ­£å¸¸
   - æµ‹è¯•å¤´åƒç‚¹å‡»æŸ¥çœ‹åŠŸèƒ½
   - éªŒè¯å ä½ç¬¦æ˜¾ç¤º

3. **é”™è¯¯åœºæ™¯æµ‹è¯•**
   - æµ‹è¯•æ— å¤´åƒç”¨æˆ·çš„æ˜¾ç¤º
   - æµ‹è¯•æ— æ•ˆå›¾ç‰‡URLçš„å¤„ç†
   - æµ‹è¯•ç½‘ç»œå¼‚å¸¸æ—¶çš„æ˜¾ç¤º

## æ³¨æ„äº‹é¡¹

1. **ArkTSè¯­æ³•é™åˆ¶**
   - @Builder æ–¹æ³•ä¸­åªèƒ½å†™UIç»„ä»¶è¯­æ³•
   - ä¸èƒ½åŒ…å«å˜é‡å£°æ˜ã€èµ‹å€¼ç­‰JavaScripté€»è¾‘
   - å¤æ‚é€»è¾‘éœ€è¦æå–åˆ°æ™®é€šæ–¹æ³•ä¸­

2. **æ€§èƒ½è€ƒè™‘**
   - URLå¤„ç†æ–¹æ³•ä¼šè¢«é¢‘ç¹è°ƒç”¨
   - å»ºè®®åœ¨æ•°æ®å±‚é¢é¢„å¤„ç†URL
   - å¯ä»¥è€ƒè™‘æ·»åŠ ç¼“å­˜æœºåˆ¶

3. **å…¼å®¹æ€§**
   - ä¿æŒäº†ä¸åŸæœ‰ä»£ç çš„å…¼å®¹æ€§
   - æ²¡æœ‰ç ´åç°æœ‰çš„åŠŸèƒ½é€»è¾‘
   - å¢å¼ºäº†é”™è¯¯å¤„ç†èƒ½åŠ›

## åç»­ä¼˜åŒ–å»ºè®®

1. **æ•°æ®é¢„å¤„ç†**
   - åœ¨APIå±‚é¢å¤„ç†å¤´åƒURL
   - å‡å°‘å‰ç«¯çš„URLå¤„ç†é€»è¾‘

2. **ç¼“å­˜æœºåˆ¶**
   - æ·»åŠ å¤´åƒURLç¼“å­˜
   - é¿å…é‡å¤çš„URLå¤„ç†

3. **é”™è¯¯å¤„ç†**
   - æ·»åŠ å›¾ç‰‡åŠ è½½å¤±è´¥çš„å¤„ç†
   - å®ç°å›¾ç‰‡é‡è¯•æœºåˆ¶ 