import router from '@ohos.router';
import { BottomNavBar } from './BottomNavBar';

interface Emotions {
  id: number;
  name: string;
  emoji: string;
  description: string;
}

@Entry
@Component
struct EmotionList {
  // å®šä¹‰æƒ…ç»ªæ•°æ®
  private emotions: Emotions[] = [
    {
      id: 1,
      name: "å¿«ä¹",
      emoji: "ğŸ˜„",
      description: "æ„Ÿåˆ°æ„‰æ‚¦å’Œæ»¡è¶³"
    },
    {
      id: 2,
      name: "æ‚²ä¼¤",
      emoji: "ğŸ˜¢",
      description: "æ„Ÿåˆ°éš¾è¿‡å’Œå¤±è½"
    },
    {
      id: 3,
      name: "æ„¤æ€’",
      emoji: "ğŸ˜ ",
      description: "æ„Ÿåˆ°ç”Ÿæ°”å’Œæ„¤æ…¨"
    },
    {
      id: 4,
      name: "æƒŠè®¶",
      emoji: "ğŸ˜®",
      description: "å› æ„å¤–è€Œæ„Ÿåˆ°éœ‡æƒŠ"
    },
    {
      id: 5,
      name: "ææƒ§",
      emoji: "ğŸ˜¨",
      description: "æ„Ÿåˆ°å®³æ€•å’Œä¸å®‰"
    }
  ];

  build() {

    Stack({ alignContent: Alignment.TopStart }) {
      Image($r('app.media.bc_blue'))
        .width('100%')
        .height('100%')
        .objectFit(ImageFit.Cover)
        .opacity(0.8) // è®¾ç½®èƒŒæ™¯é€æ˜åº¦
        .expandSafeArea([SafeAreaType.SYSTEM],[SafeAreaEdge.TOP,SafeAreaEdge.BOTTOM])


      Shape() {
        Rect()
      }
      .width('100%')
      .height('100%')
      .fill(Color.Black)
      .opacity(0.3)

      Column() {
        // é¡µé¢æ ‡é¢˜
        Text("æƒ…ç»ªåˆ—è¡¨")
          .fontSize(28)
          .fontWeight(FontWeight.Bold)
          .margin({ top: 30, bottom: 20 })
          .width('100%')
          .textAlign(TextAlign.Center)

        // æƒ…ç»ªåˆ—è¡¨
        List() {
          ForEach(this.emotions, (emotion: Emotions) => {
            ListItem() {

              Row() {
                // æƒ…ç»ªå›¾æ ‡
                Text(emotion.emoji)
                  .fontSize(36)
                  .margin({ left: 20 })

                Column({ space: 3 }) {
                  // æƒ…ç»ªåç§°
                  Text(emotion.name)
                    .fontSize(20)
                    .fontWeight(FontWeight.Medium)

                  // æƒ…ç»ªæè¿°
                  Text(emotion.description)
                    .fontSize(14)
                    .fontColor('#666666')
                }
                .margin({ left: 15 })
                .width('80%')
              }
              .width('100%')
              .height(80)
              .backgroundColor('#F5F7FA')
              .borderRadius(12)
              .margin({ top: 5, bottom: 5 })
              .onClick(() => {
                // è·³è½¬åˆ°å¯¹è¯è®°å½•åˆ—è¡¨ï¼Œä¼ é€’æƒ…ç»ªID
                router.pushUrl({
                  url: 'pages/ConversationList',
                  params: {
                    emotionId: emotion.id,
                    emotionName: emotion.name,
                    emotionEmoji: emotion.emoji
                  }
                });
                // .onClick(() => {
                //console.info(ç‚¹å‡»äº†æƒ…ç»ª: ${emotion.name});
                // è¿™é‡Œå¯ä»¥æ·»åŠ è·³è½¬åˆ°è¯¦æƒ…é¡µçš„é€»è¾‘
                //router.pushUrl ({
                // url: 'pages/EmotionDetail',
                // params: {emotionId: emotion.id}
                // });
              })
            }
          })
        }
        .width('90%')
        .margin({ left: 'auto', right: 'auto' })
        .layoutWeight(1)
        .padding({ bottom: 80 })
      }
      .width('100%')
      .height('100%')
      .opacity(0.8)
      

    }
  }
}