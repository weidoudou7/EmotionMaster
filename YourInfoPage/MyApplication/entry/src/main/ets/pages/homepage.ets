// homepage.ets
// å¯¼å…¥é¡µé¢è·¯ç”±æ¨¡å—
import { BusinessError } from '@kit.BasicServicesKit';
@Entry
@Component
struct HomePage {
  @State count: number = 0 // è®¡æ•°å™¨çŠ¶æ€
  @State isDarkMode: boolean = false // ä¸»é¢˜çŠ¶æ€
  // ä¸»é¢˜åˆ‡æ¢æŒ‰é’®çš„æž„å»ºå‡½æ•°
  @Builder
  ThemeToggleButton() {
    Button(this.isDarkMode ? 'â˜€ï¸ äº®è‰²æ¨¡å¼' : 'ðŸŒ™ æš—è‰²æ¨¡å¼')
      .width(120)
      .height(40)
      .margin(10)
      .onClick(() => {
        this.isDarkMode = !this.isDarkMode
      })
  }
  build() {
    Column() {
      // æ ‡é¢˜
      Text('HarmonyOS è®¡æ•°å™¨')
        .fontSize(24)
        .fontWeight(FontWeight.Bold)
        .margin({ bottom: 30 })
      // è®¡æ•°æ˜¾ç¤º
      Text(`å½“å‰è®¡æ•°: ${this.count}`)
        .fontSize(36)
        .fontColor(this.isDarkMode ? '#FFFFFF' : '#000000')
        .margin({ bottom: 20 })
      // æ“ä½œæŒ‰é’®
      Row() {
        Button('å¢žåŠ ')
          .width(100)
          .height(40)
          .backgroundColor('#0D9FFB')
          .onClick(() => {
            this.count += 1
          })
        Button('å‡å°‘')
          .width(100)
          .height(40)
          .margin({ left: 20 })
          .backgroundColor('#FF4D4F')
          .onClick(() => {
            this.count -= 1
          })
      }
      .margin({ bottom: 30 })
      // é‡ç½®æŒ‰é’®
      Button('é‡ç½®')
        .width(200)
        .height(40)
        .onClick(() => {
          this.count = 0
        })
      // ä¸»é¢˜åˆ‡æ¢
      this.ThemeToggleButton()
      Button('å‰å¾€ä¸ªäººä¸»é¡µ')
        .width(250)
        .height(40)// è·³è½¬æŒ‰é’®ç»‘å®šonClickäº‹ä»¶ï¼Œå•å‡»æ—¶è·³è½¬åˆ°ç¬¬äºŒé¡µ
        .onClick(() => {
          console.info(`Succeeded in clicking the 'å‰å¾€ä¸ªäººä¸»é¡µ' button.`)
          // èŽ·å–UIContext
          let uiContext: UIContext = this.getUIContext();
          let router = uiContext.getRouter();
          // è·³è½¬åˆ°ä¸ªäººä¸»é¡µ
          router.pushUrl({ url: 'pages/yourpage' }).then(() => {
            console.info('Succeeded in jumping to the yourpage.')
          }).catch((err: BusinessError) => {
            console.error(`Failed to jump to the yourpage. Code is ${err.code}, message is ${err.message}`)
          })
        })
    }
    .width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
    .backgroundColor(this.isDarkMode ? '#222222' : '#F5F5F5')
  }
}


